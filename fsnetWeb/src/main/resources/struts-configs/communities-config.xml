<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

	<include file="struts-default.xml" />

	<package name="communities" extends="struts-default">
		<result-types>
			<result-type name="tiles"
				class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>
		<action name="Communities"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="search">
			<result name="input" type="tiles">Communities</result>
			<result name="success" type="tiles">Communities</result>
		</action>

		<action name="CreateCommunity"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="create">
			<result name="success" type="tiles">DisplayCommunities</result>
			<result name="unauthorized">Communities</result>
			<result name="input">DisplayCommunities</result>
		</action>

		<action name="ModifyCommunity"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="modify">
			<result name="input">DisplayCommunities</result>
			<result name="failed">DisplayCommunities</result>
			<result name="success" type="tiles">Communities</result>
		</action>

		<action name="SearchCommunity"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="search">
			<result name="input" type="redirect">Communities</result>
			<result name="success" type="redirect">Communities</result>
		</action>

		<action name="DeleteCommunity"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="delete">
			<result name="input">UnauthorizedOperationException</result>
			<result name="failed">Communities</result>
			<result name="success" type="tiles">DisplayCommunities</result>
		</action>

		<action name="DisplayCommunity" class="fr.univartois.ili.fsnet.actions.ManageHub"
			method="search">
			<result name="input">UnauthorizedOperationException</result>
			<result name="success" type="redirect">Hubs</result>
		</action>

		<action name="DisplayCommunities"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="searchYourCommunities">
			<result name="success" type="tiles">DisplayYourCommunities</result>
		</action>

		<action name="SearchYourCommunities"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="searchYourCommunities">
			<result name="input">UnauthorizedOperationException</result>
			<result name="success" type="redirect">DisplayYourCommunities</result>
		</action>

		<action name="DeleteYourCommunity"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="delete">
			<result name="input">UnauthorizedOperationException</result>
			<result name="success" type="tiles">SearchYourCommunities</result>
		</action>

		<action name="YourCommunities"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="searchYourCommunities">
			<result name="success" type="tiles">SearchYourCommunities</result>
		</action>

		<action name="DeleteMultiCommunities"
			class="fr.univartois.ili.fsnet.actions.ManageCommunities" method="deleteMulti">
			<result name="success" type="tiles">Communities</result>
		</action>
	</package>
</struts>